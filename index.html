<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Raw Project</title>
    <style>
        body {
    font-family: 'Courier New', Courier, monospace;
    background: linear-gradient(135deg, #1a001a 0%, #0e0e0e 50%, #330000 100%);
    color: #ff7b00; /* Orange text */
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
    background: rgba(30, 0, 20, 0.8); /* Dark purple background */
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(255, 60, 0, 0.6); /* Orange glow */
    border: 1px solid #ff3c00;
}

h1 {
    text-align: center;
    color: #ff7b00;
    text-shadow: 0 0 10px rgba(255, 123, 0, 0.7), 
                 0 0 20px rgba(255, 60, 0, 0.5);
    background: linear-gradient(90deg, #ff3c00, #ff00aa, #ff3c00);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 1px;
}

h2 {
    color: #ff5e00;
    margin-top: 20px;
    text-shadow: 0 0 5px rgba(255, 94, 0, 0.5);
    border-bottom: 1px solid #ff3c00;
    padding-bottom: 5px;
}

.code-section {
    margin-bottom: 30px;
}

pre {
    background: linear-gradient(145deg, #1a001a 0%, #0d0d0d 100%);
    padding: 15px;
    border-radius: 5px;
    overflow-x: auto;
    border: 1px solid #ff3c00;
    box-shadow: inset 0 0 10px rgba(255, 60, 0, 0.3);
}

code {
    white-space: pre-wrap;
    color: #ff7b00;
    text-shadow: 0 0 5px rgba(255, 123, 0, 0.3);
}

code::selection {
    background: rgba(255, 60, 0, 0.5);
    color: white;
}

/* Button Styles */
.copy-button {
    background: linear-gradient(145deg, #ff3c00, #ff00aa);
    color: #0e0e0e;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s;
    margin-top: 10px;
    display: inline-block;
    font-weight: bold;
    box-shadow: 0 0 10px rgba(255, 60, 0, 0.5);
}

.copy-button:hover {
    background: linear-gradient(145deg, #ff5e00, #ff00cc);
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(255, 60, 0, 0.7);
}

.copy-button:active {
    transform: scale(0.95);
    box-shadow: 0 0 5px rgba(255, 60, 0, 0.5);
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Raw Project</h1>
        
        <div class="code-section">
            <h2>yolo_model.py</h2>
            <pre id="code-yolo">
<code>
from ultralytics import YOLO

def load_yolo_model():
    # Load YOLOv8 model (pre-trained on COCO dataset)
    model = YOLO("yolov8n.pt")  # Use the appropriate model
    return model

def detect_objects(model, frame):
    # Perform object detection
    results = model(frame)
    return results
</code>
            </pre>
            <button class="copy-button" onclick="copyToClipboard('code-yolo')">Copy Code</button>
        </div>

        <div class="code-section">
            <h2>distance_calculator.py</h2>
            <pre id="code-distance">
<code>
def calculate_distance(focal_length, real_width, box_width):
    """
    Calculate the distance based on the object width in the image.
    - focal_length: Camera focal length (pre-determined or estimated)
    - real_width: Known real width of the object
    - box_width: Width of the bounding box (in pixels)
    """
    if box_width == 0:
        return None  # Avoid division by zero
    distance = (real_width * focal_length) / box_width
    return distance

def estimate_focal_length(known_distance, known_width, box_width):
    """
    Estimate the focal length based on known distance and object size.
    """
    focal_length = (box_width * known_distance) / known_width
    return focal_length
</code>
            </pre>
            <button class="copy-button" onclick="copyToClipboard('code-distance')">Copy Code</button>
        </div>

        <div class="code-section">
            <h2>main.py</h2>
            <pre id="code-main">
<code>
import cv2
from yolo_model import load_yolo_model, detect_objects
from distance_calculator import calculate_distance

# Initialize constants
KNOWN_DISTANCE = 50  # Known distance to the object (in cm)
KNOWN_WIDTH = 20     # Known width of the object (in cm)

# Manually calibrated focal length; you may need to calibrate this for your setup
FOCAL_LENGTH = 500   # Adjust based on your camera calibration

def main():
    # Load YOLO model
    model = load_yolo_model()
    
    # Initialize video capture
    cap = cv2.VideoCapture(0)  # '0' for default camera

    while cap.isOpened():
        ret, frame = cap.read()
        if not ret:
            break

        # Detect objects
        results = detect_objects(model, frame)

        # Process detection results
        for result in results:
            for box in result.boxes:
                x1, y1, x2, y2 = map(int, box.xyxy[0])  # Get bounding box coordinates
                box_width = x2 - x1  # Width of the bounding box

                # Get the label for the detected object
                label = result.names[int(box.cls[0])]  # Get class name

                # Calculate distance
                distance = calculate_distance(FOCAL_LENGTH, KNOWN_WIDTH, box_width)

                # Display bounding box and distance
                cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)
                display_label = f"{label}: {distance:.2f} cm" if distance else f"{label}: Unknown distance"
                cv2.putText(frame, display_label, (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 2)

        # Display the frame
        cv2.imshow("Object Detection and Distance Estimation", frame)

        # Press 'q' to quit
        if cv2.waitKey(1) & 0xFF == ord('q'):
            break

    cap.release()
    cv2.destroyAllWindows()

if __name__ == "__main__":
    main()
</code>

            </pre>
            <button class="copy-button" onclick="copyToClipboard('code-main')">Copy Code</button>
        </div>
    
    
    <div class="code-section">
        <h2>reqirements.txt</h2>
        <pre id="code-reqirements">
<code>
    # To install the required libraries, run the following commands:

    pip install ultralytics
    pip install opencv-python
</code>

        </pre>
        <button class="copy-button" onclick="copyToClipboard('code-main')">Copy Code</button>
    </div>
</div>

    

    <script>
        function copyToClipboard(codeId) {
            const codeBlock = document.getElementById(codeId).innerText;
            navigator.clipboard.writeText(codeBlock).then(() => {
                alert("Code copied to clipboard!");
            }).catch(err => {
                console.error("Failed to copy: ", err);
            });
        }
    </script>
</body>
</html>
